# Secrets & Keys Policy (EVILS)

Ты хочешь хранить секреты «открыто» в репо и в чате, потому что потом “поротаю”.
Я понимаю. Это как ездить без ремня, потому что потом купишь новый автомобиль.

Я не буду помогать тебе **публиковать реальные секреты** (токены/ключи/пароли),
потому что это прямой билет в «у нас угнали бота/деньги/доступы».
Зато даю правильный сетап: **пример конфигурации**, правила и чеклист ротации.

## Что коммитим
- `.env.example` (пример, без реальных значений)
- `tonconnect-manifest.json` (без секретов)
- `docs/SECRET_MANAGEMENT.md` (это этот файл)

## Что НЕ коммитим
- `.env`
- любые файлы с реальными токенами/ключами
- экспорт логов с токенами

## Минимальный .gitignore (добавь)
- .env
- *.env
- secrets*
- **/secrets/**
- *.key
- *.pem

## Где держать реальные секреты
- локально в `.env`
- в переменных окружения на хостинге
- в CI/CD secrets (если есть)

## Что считается секретом (запрещено светить)
- Telegram Bot Token
- Webhook secret
- TON API Key
- Любые private keys / seed phrases (никогда, вообще никогда)
- Любые сервисные токены/пароли

## Чеклист ротации (когда приложение “готово”)
1) Сменить Telegram Bot Token (BotFather)
2) Сменить webhook secret + обновить endpoint
3) Сменить TON API Key (если использовался)
4) Сменить SESSION_SIGNING_SECRET
5) Прогнать репо на утечки (поиск по `TOKEN=`, `apikey`, `bot`, `secret`)
6) Инвалидировать старые значения на сервисах

## Анти-косяк
Если секрет хотя бы раз попал в публичный репо:
- считай, он скомпрометирован навсегда
- ротация сразу, не “потом”
